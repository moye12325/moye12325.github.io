# éƒ¨ç½²è¯´æ˜æ–‡æ¡£

## ğŸ“‹ é…ç½®æ¸…å•

æœ¬æ–‡æ¡£è¯´æ˜å·²å®Œæˆçš„é…ç½®é¡¹å’Œå¦‚ä½•ä½¿ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚

## âœ… å·²å®Œæˆçš„é…ç½®

### ä»»åŠ¡ 1ï¼šGitHub Actions è‡ªåŠ¨åŒ–éƒ¨ç½² â­â­â­â­â­

#### 1.1 åˆ›å»ºå·¥ä½œæµé…ç½®

å·²åˆ›å»º `.github/workflows/deploy.yml` æ–‡ä»¶ï¼Œé…ç½®å†…å®¹ï¼š

- **è§¦å‘æ¡ä»¶**ï¼šæ¨é€åˆ° `main` åˆ†æ”¯æ—¶è‡ªåŠ¨è§¦å‘
- **æ‰‹åŠ¨è§¦å‘**ï¼šæ”¯æŒé€šè¿‡ GitHub Actions é¡µé¢æ‰‹åŠ¨è§¦å‘
- **æ„å»ºç¯å¢ƒ**ï¼šUbuntu latest + Node.js 20
- **æ„å»ºæ­¥éª¤**ï¼š
  1. æ£€å‡ºä»£ç 
  2. è®¾ç½® Node.js ç¯å¢ƒ
  3. å®‰è£…ä¾èµ– (`npm ci`)
  4. æ¸…ç†ç¼“å­˜ (`npm run clean`)
  5. ç”Ÿæˆé™æ€æ–‡ä»¶ (`npm run build`)
  6. é…ç½® Git ç”¨æˆ·ä¿¡æ¯
  7. éƒ¨ç½²åˆ° `gh-pages` åˆ†æ”¯

#### 1.2 æƒé™é…ç½®

å·¥ä½œæµå·²é…ç½®å¿…è¦çš„æƒé™ï¼š
- `contents: write` - ç”¨äºæ¨é€åˆ° gh-pages åˆ†æ”¯
- `pages: write` - ç”¨äº GitHub Pages éƒ¨ç½²
- `id-token: write` - ç”¨äºèº«ä»½éªŒè¯

#### 1.3 ä½¿ç”¨ GITHUB_TOKEN

æ— éœ€é…ç½®é¢å¤–çš„ Deploy Key æˆ– Personal Access Tokenï¼Œä½¿ç”¨ GitHub è‡ªåŠ¨æä¾›çš„ `GITHUB_TOKEN`ã€‚

### ä»»åŠ¡ 2ï¼šä¼˜åŒ– Hexo é…ç½® â­â­â­â­

#### 2.1 ä¿®å¤ä¸»é¢˜é…ç½®å†²çª âœ…

**é—®é¢˜**ï¼š`_config.yml` ä¸­é…ç½®çš„ç«™ç‚¹ä¿¡æ¯æ²¡æœ‰ç”Ÿæ•ˆåˆ°ç½‘ç«™ä¸Šã€‚

**åŸå› **ï¼š`_config.redefine.yml` ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„ `info` éƒ¨åˆ†è¦†ç›–äº†ç«™ç‚¹é…ç½®ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šå·²æ›´æ–° `_config.redefine.yml` ä¸­çš„ä»¥ä¸‹é…ç½®ï¼š

```yaml
info:
  title: ç å†œä¿®è¡Œæ‰‹å†Œ
  subtitle: Pythonä¸é‡å­è®¡ç®—ä¹‹è·¯ä¸Šçš„å¿ƒå¾—ä¸å®è·µ
  author: moye12325
  url: https://moye12325.github.io

home_banner:
  title: ç å†œä¿®è¡Œæ‰‹å†Œ
  subtitle:
    text:
      - Pythonä¸é‡å­è®¡ç®—ä¹‹è·¯ä¸Šçš„å¿ƒå¾—ä¸å®è·µ
      - åˆ†äº«ç¼–ç¨‹æŠ€å·§ä¸æŠ€æœ¯è§£æ
      - è®°å½•å…¨æ ˆå¼€å‘çš„ç‚¹æ»´æ”¶è·

open_graph:
  description: moye12325çš„ä¸ªäººæŠ€æœ¯åšå®¢ï¼Œä¸“æ³¨äºPythonã€å…¨æ ˆå¼€å‘å®æˆ˜ç»éªŒã€ç¼–ç¨‹æŠ€å·§åˆ†äº«ä¸æ·±å…¥çš„æŠ€æœ¯è§£æã€‚
```

#### 2.2 SEO ä¼˜åŒ–é…ç½® âœ…

`_config.yml` ä¸­å·²é…ç½®å®Œå–„çš„ SEO ä¿¡æ¯ï¼š

```yaml
title: ç å†œä¿®è¡Œæ‰‹å†Œ
subtitle: Pythonä¸é‡å­è®¡ç®—ä¹‹è·¯ä¸Šçš„å¿ƒå¾—ä¸å®è·µ
description: moye12325çš„ä¸ªäººæŠ€æœ¯åšå®¢ï¼Œä¸“æ³¨äºPythonã€å…¨æ ˆå¼€å‘å®æˆ˜ç»éªŒã€ç¼–ç¨‹æŠ€å·§åˆ†äº«ä¸æ·±å…¥çš„æŠ€æœ¯è§£æã€‚
keywords: Python, å…¨æ ˆå¼€å‘, ç¼–ç¨‹å­¦ä¹ , æŠ€æœ¯åˆ†äº«, moye12325
author: moye12325
language: zh-CN
timezone: Asia/Shanghai
```

#### 2.3 æ°¸ä¹…é“¾æ¥æ ¼å¼ âœ…

å·²é…ç½®è¯­ä¹‰åŒ–çš„æ°¸ä¹…é“¾æ¥æ ¼å¼ï¼š

```yaml
permalink: :year/:month/:day/:title/
```

ç¤ºä¾‹ï¼š`https://moye12325.github.io/2024/10/31/my-article/`

#### 2.4 RSS è®¢é˜…é…ç½® âœ…

**å®‰è£…æ’ä»¶**ï¼šå·²åœ¨ `package.json` ä¸­æ·»åŠ  `hexo-generator-feed`

**é…ç½®é¡¹**ï¼ˆåœ¨ `_config.yml` ä¸­ï¼‰ï¼š

```yaml
feed:
  enable: true
  type: atom
  path: atom.xml
  limit: 20
  content: true
  content_limit: 140
  order_by: -date
  autodiscovery: true
```

**è®¢é˜…åœ°å€**ï¼š`https://moye12325.github.io/atom.xml`

**ä¸»é¢˜é›†æˆ**ï¼šå·²åœ¨ `_config.redefine.yml` ä¸­å¯ç”¨ RSSï¼š

```yaml
plugins:
  feed:
    enable: true
```

#### 2.5 Sitemap ç«™ç‚¹åœ°å›¾é…ç½® âœ…

**å®‰è£…æ’ä»¶**ï¼šå·²åœ¨ `package.json` ä¸­æ·»åŠ  `hexo-generator-sitemap`

**é…ç½®é¡¹**ï¼ˆåœ¨ `_config.yml` ä¸­ï¼‰ï¼š

```yaml
sitemap:
  path: sitemap.xml
  rel: false
  tags: true
  categories: true
```

**ç«™ç‚¹åœ°å›¾åœ°å€**ï¼š`https://moye12325.github.io/sitemap.xml`

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### é¦–æ¬¡éƒ¨ç½²

1. **ç¡®ä¿ GitHub Pages å·²å¯ç”¨**

   å‰å¾€ GitHub ä»“åº“è®¾ç½®ï¼š
   - Settings â†’ Pages
   - Source: Deploy from a branch
   - Branch: `gh-pages` / `root`

2. **æ¨é€åˆ° main åˆ†æ”¯**

   ```bash
   git add .
   git commit -m "feat: é…ç½®è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œä¼˜åŒ– Hexo é…ç½®"
   git push origin main
   ```

3. **æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€**

   è®¿é—® GitHub Actions é¡µé¢æŸ¥çœ‹å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€ï¼š
   ```
   https://github.com/moye12325/moye12325.github.io/actions
   ```

### æ—¥å¸¸å†™ä½œå’Œå‘å¸ƒ

1. **åˆ›å»ºæ–°æ–‡ç« **

   ```bash
   hexo new post "æ–‡ç« æ ‡é¢˜"
   ```

2. **ç¼–è¾‘æ–‡ç« **

   æ–‡ä»¶ä½äº `source/_posts/æ–‡ç« æ ‡é¢˜.md`

3. **æœ¬åœ°é¢„è§ˆ**

   ```bash
   npm run server
   # è®¿é—® http://localhost:4000
   ```

4. **æäº¤å¹¶æ¨é€**

   ```bash
   git add .
   git commit -m "feat: æ·»åŠ æ–°æ–‡ç« ã€Šæ–‡ç« æ ‡é¢˜ã€‹"
   git push origin main
   ```

5. **ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²**

   GitHub Actions ä¼šè‡ªåŠ¨ï¼š
   - å®‰è£…ä¾èµ–
   - ç”Ÿæˆé™æ€æ–‡ä»¶
   - éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯
   - é€šå¸¸ 1-2 åˆ†é’Ÿå®Œæˆ

### æ‰‹åŠ¨è§¦å‘éƒ¨ç½²

å¦‚æœéœ€è¦æ‰‹åŠ¨è§¦å‘éƒ¨ç½²ï¼ˆä¸æ¨é€ä»£ç ï¼‰ï¼š

1. è®¿é—® Actions é¡µé¢
2. é€‰æ‹© "Deploy Hexo Blog to GitHub Pages" å·¥ä½œæµ
3. ç‚¹å‡» "Run workflow" æŒ‰é’®
4. é€‰æ‹© `main` åˆ†æ”¯å¹¶ç¡®è®¤

## ğŸ” éªŒè¯é…ç½®

éƒ¨ç½²å®Œæˆåï¼ŒéªŒè¯ä»¥ä¸‹å†…å®¹ï¼š

### 1. ç½‘ç«™å¯è®¿é—®
```
https://moye12325.github.io
```

### 2. RSS è®¢é˜…
```
https://moye12325.github.io/atom.xml
```

### 3. Sitemap
```
https://moye12325.github.io/sitemap.xml
```

### 4. ç«™ç‚¹ä¿¡æ¯æ˜¯å¦æ­£ç¡®æ˜¾ç¤º
- æµè§ˆå™¨æ ‡é¢˜åº”æ˜¾ç¤ºï¼šç å†œä¿®è¡Œæ‰‹å†Œ
- é¦–é¡µ banner åº”æ˜¾ç¤ºï¼šç å†œä¿®è¡Œæ‰‹å†Œ
- å‰¯æ ‡é¢˜åº”å¾ªç¯æ˜¾ç¤ºé…ç½®çš„ä¸‰æ¡æ–‡æœ¬

## ğŸ“¦ å®‰è£…ä¾èµ–

å¦‚æœæ˜¯é¦–æ¬¡å…‹éš†ä»“åº“ï¼Œéœ€è¦å®‰è£…ä¾èµ–ï¼š

```bash
npm install
```

è¿™å°†å®‰è£…æ‰€æœ‰å¿…éœ€çš„åŒ…ï¼ŒåŒ…æ‹¬ï¼š
- hexo-generator-feed (RSS)
- hexo-generator-sitemap (Sitemap)
- hexo-theme-redefine (ä¸»é¢˜)
- å…¶ä»– Hexo æ ¸å¿ƒæ’ä»¶

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸è¦ç›´æ¥ä¿®æ”¹ gh-pages åˆ†æ”¯**
   - gh-pages åˆ†æ”¯ç”± GitHub Actions è‡ªåŠ¨ç®¡ç†
   - æ‰‹åŠ¨ä¿®æ”¹ä¼šåœ¨ä¸‹æ¬¡éƒ¨ç½²æ—¶è¢«è¦†ç›–

2. **ä¸»é¢˜é…ç½®ä¼˜å…ˆçº§**
   - `_config.redefine.yml` ä¼šè¦†ç›– `_config.yml` çš„éƒ¨åˆ†è®¾ç½®
   - ä¿®æ”¹ç«™ç‚¹ä¿¡æ¯æ—¶ï¼Œä¸¤ä¸ªæ–‡ä»¶éƒ½è¦æ£€æŸ¥

3. **æœ¬åœ°é¢„è§ˆ vs çº¿ä¸Šæ•ˆæœ**
   - æŸäº›åŠŸèƒ½åœ¨æœ¬åœ°é¢„è§ˆæ—¶å¯èƒ½ä¸å®Œå…¨ä¸€è‡´
   - ä»¥çº¿ä¸Šéƒ¨ç½²æ•ˆæœä¸ºå‡†

4. **æ„å»ºå¤±è´¥å¤„ç†**
   - æŸ¥çœ‹ GitHub Actions çš„æ„å»ºæ—¥å¿—
   - å¸¸è§é—®é¢˜ï¼šä¾èµ–å®‰è£…å¤±è´¥ã€Hexo é…ç½®é”™è¯¯
   - ä¿®å¤åé‡æ–°æ¨é€å³å¯è§¦å‘æ–°çš„æ„å»º

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šActions å·¥ä½œæµå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æŸ¥çœ‹ Actions é¡µé¢çš„è¯¦ç»†æ—¥å¿—
2. æ£€æŸ¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯æˆ–é…ç½®é—®é¢˜
3. ç¡®è®¤ `package.json` ä¸­çš„ä¾èµ–ç‰ˆæœ¬å…¼å®¹

### é—®é¢˜ï¼šç½‘ç«™æ›´æ–°ä¸åŠæ—¶

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç­‰å¾… 2-3 åˆ†é’Ÿï¼ŒGitHub Pages æœ‰ç¼“å­˜å»¶è¿Ÿ
2. å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨ï¼ˆCtrl+F5 æˆ– Cmd+Shift+Rï¼‰
3. æ£€æŸ¥ Actions æ˜¯å¦æˆåŠŸå®Œæˆ

### é—®é¢˜ï¼šRSS/Sitemap è®¿é—® 404

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤æ’ä»¶å·²å®‰è£…ï¼š`npm install`
2. æ£€æŸ¥ `_config.yml` é…ç½®æ˜¯å¦æ­£ç¡®
3. é‡æ–°æ„å»ºå¹¶éƒ¨ç½²

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [Hexo å®˜æ–¹æ–‡æ¡£](https://hexo.io/docs/)
- [Redefine ä¸»é¢˜æ–‡æ¡£](https://redefine-docs.ohevan.com/)
- [hexo-generator-feed](https://github.com/hexojs/hexo-generator-feed)
- [hexo-generator-sitemap](https://github.com/hexojs/hexo-generator-sitemap)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)

## ğŸ‰ å®Œæˆ

æ‰€æœ‰é…ç½®å·²å®Œæˆå¹¶ç»è¿‡æµ‹è¯•ï¼Œç°åœ¨å¯ä»¥ä¸“æ³¨äºå†…å®¹åˆ›ä½œäº†ï¼

**å·¥ä½œæµç¨‹æ€»ç»“**ï¼š
```
å†™æ–‡ç«  â†’ git push â†’ GitHub Actions è‡ªåŠ¨æ„å»º â†’ è‡ªåŠ¨éƒ¨ç½² â†’ ç½‘ç«™æ›´æ–° âœ¨
```

---

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ GitHub Actions æ„å»ºæ—¥å¿—æˆ–æäº¤ Issueã€‚
