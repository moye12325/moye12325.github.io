---
title: 接口测试文档：登录接口
date: '2024-08-28 17:23:53'
categories:
  - 项目测试
tags:
  - 项目测试
---
登录接口的接口测试

### 接口测试文档：登录接口

---

#### **1. 测试目的**

验证登录接口的功能是否正常，确保用户能够通过正确的凭据成功登录，并且系统能够正确处理错误的凭据和异常情况。

---

#### **2. 测试范围**

- POST `/api/login`

---

#### **3. 测试环境**

- **操作系统**: Ubuntu 20.04 / Windows 10
- **服务器**: Apache Tomcat 9.0
- **数据库**: MySQL 8.0
- **测试工具**: Postman / Python `requests` 库 / JUnit（根据具体实现语言选择）
- **测试数据**: 
  - 正确的用户名和密码：`testuser` / `password123`
  - 错误的用户名和密码：`wronguser` / `wrongpassword`
  - 空用户名和密码

---

#### **4. 测试用例**

##### **4.1. 用例1：成功登录**

- **前置条件**: 用户`testuser`已在系统中注册，且使用密码`password123`。
- **步骤**:
  1. 发送POST请求至`/api/login`，Body内容为正确的用户名和密码。
  2. 检查响应状态码是否为`200 OK`。
  3. 验证响应Body中是否包含`token`字段且值非空。
- **预期结果**: 
  - 状态码为`200 OK`。
  - 响应Body中包含有效的`token`。

##### **4.2. 用例2：使用错误的用户名和密码登录**

- **前置条件**: 用户`wronguser`在系统中不存在，或密码错误。
- **步骤**:
  1. 发送POST请求至`/api/login`，Body内容为错误的用户名和密码。
  2. 检查响应状态码是否为`401 Unauthorized`。
  3. 验证响应Body中是否包含错误消息，例如`"Invalid username or password"`。
- **预期结果**: 
  - 状态码为`401 Unauthorized`。
  - 响应Body中包含错误信息`"Invalid username or password"`。

##### **4.3. 用例3：使用空的用户名和密码登录**

- **前置条件**: 无需任何特殊设置。
- **步骤**:
  1. 发送POST请求至`/api/login`，Body内容为空或不包含用户名和密码字段。
  2. 检查响应状态码是否为`400 Bad Request`。
  3. 验证响应Body中是否包含错误消息，例如`"Username and password required"`。
- **预期结果**: 
  - 状态码为`400 Bad Request`。
  - 响应Body中包含错误信息`"Username and password required"`。

##### **4.4. 用例4：使用部分缺失的用户名或密码登录**

- **前置条件**: 无需任何特殊设置。
- **步骤**:
  1. 发送POST请求至`/api/login`，Body内容只包含用户名或只包含密码。
  2. 检查响应状态码是否为`400 Bad Request`。
  3. 验证响应Body中是否包含错误消息，例如`"Username and password required"`。
- **预期结果**: 
  - 状态码为`400 Bad Request`。
  - 响应Body中包含错误信息`"Username and password required"`。

---

#### **5. 测试数据准备**

| 用户名     | 密码         | 备注             |
|------------|--------------|------------------|
| testuser   | password123  | 正确的登录凭据    |
| wronguser  | wrongpassword| 错误的登录凭据    |
| -          | -            | 缺失用户名和密码 |

---

#### **6. 测试步骤**

1. 设置测试环境，包括配置数据库、启动服务器等。
2. 使用Postman、curl或编写脚本发送请求，执行每个测试用例。
3. 记录每个测试用例的执行结果，包括响应状态码、响应内容等。
4. 对比实际结果与预期结果，判断是否通过测试。
5. 如果测试失败，记录失败的详细信息，并进行问题定位和分析。

---

#### **7. 测试结果记录**

| 测试用例编号 | 执行人   | 执行日期   | 结果     | 备注                   |
|--------------|----------|------------|----------|------------------------|
| 1            | xx      | 2024-08-29 | 通过     | -                      |
| 2            | yy      | 2024-08-29 | 通过     | -                      |
| 3            | zz      | 2024-08-29 | 通过     | -                      |
| 4            | gg      | 2024-08-29 | 未通过   | 系统返回500错误码     |

---

#### **8. 缺陷记录**

| 缺陷编号 | 测试用例编号 | 缺陷描述                        | 严重性 | 解决状态 | 备注         |
|----------|--------------|---------------------------------|--------|----------|--------------|
| 1        | 4            | 使用部分缺失的用户名或密码时，返回500错误码 | 高     | 待解决   | 涉及空值处理 |

---

#### **9. 备注**

---

**编写者**: 
**编写日期**: 2024-08-29  
**审核者**: Moye未来的领导  
**审核日期**: 2024-08-30  
**版本**: 1.0
