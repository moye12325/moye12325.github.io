# Hexo åšå®¢å®Œæ•´é…ç½®ä»»åŠ¡å®Œæˆæ€»ç»“

æœ¬æ–‡æ¡£æ€»ç»“äº†Hexoåšå®¢çš„å®Œæ•´é…ç½®ä»»åŠ¡ï¼ŒåŒ…æ‹¬å¯¼èˆªé…ç½®ã€é¡µé¢åˆ›å»ºã€æ–‡ç« è¿ç§»å’ŒCI/CDéƒ¨ç½²ã€‚

---

## âœ… ä»»åŠ¡å®Œæˆæƒ…å†µ

### ä»»åŠ¡ 1ï¼šé…ç½®åšå®¢å¯¼èˆªèœå• (Configure blog navbar) - âœ… å·²å®Œæˆ

**ç›®æ ‡**ï¼šé…ç½®ä¸»å¯¼èˆªç»“æ„ä¸ºï¼š**é¦–é¡µ | åšå®¢ | éšç¬” | é¡¹ç›® | å…³äº | å‹é“¾**

**ä¿®æ”¹å†…å®¹**ï¼š

1. **ä¿®æ”¹ `_config.redefine.yml`** (Lines 207-229)
   - å°† "Home" æ”¹ä¸º "é¦–é¡µ"
   - å°† "åšå®¢" é…ç½®ä¸ºäºŒçº§ä¸‹æ‹‰èœå•ï¼ŒåŒ…å«ï¼š
     - å…¨éƒ¨æ–‡ç«  â†’ `/archives/`
     - åˆ†ç±» â†’ `/categories/`
     - æ ‡ç­¾ â†’ `/tags/`
     - å½’æ¡£ â†’ `/archives/`
   - å°† "éšç¬”" æŒ‡å‘ `/categories/éšç¬”/`
   - è°ƒæ•´äº†å¯¼èˆªèœå•é¡ºåº

**éªŒè¯ç»“æœ**ï¼š
- âœ… å¯¼èˆªèœå•é…ç½®æ­£ç¡®
- âœ… äºŒçº§ä¸‹æ‹‰èœå•é…ç½®å®Œæˆ
- âœ… æ‰€æœ‰é“¾æ¥æŒ‡å‘æ­£ç¡®çš„permalink

---

### ä»»åŠ¡ 2ï¼šåˆ›å»ºå¿…è¦çš„é¡µé¢ (Add content pages) - âœ… å·²å®Œæˆ

**ç›®æ ‡**ï¼šåˆ›å»ºåšå®¢æ‰€éœ€çš„æ‰€æœ‰é™æ€é¡µé¢

**é¡µé¢çŠ¶æ€æ£€æŸ¥**ï¼š

æ‰€æœ‰å¿…éœ€é¡µé¢å·²å­˜åœ¨ï¼š

1. âœ… **`source/about/index.md`** - å…³äºé¡µé¢
2. âœ… **`source/projects/index.md`** - é¡¹ç›®å±•ç¤ºé¡µé¢
3. âœ… **`source/links/index.md`** - å‹æƒ…é“¾æ¥é¡µé¢
4. âœ… **`source/categories/index.md`** - åˆ†ç±»é¡µé¢
5. âœ… **`source/tags/index.md`** - æ ‡ç­¾é¡µé¢
6. âœ… **`source/archives/index.md`** - å½’æ¡£é¡µé¢

**é¡µé¢é…ç½®**ï¼š
- About/Projects/Links ä½¿ç”¨ `layout: page`
- Categories/Tags/Archives ä½¿ç”¨å¯¹åº”çš„ `type` å­—æ®µ
- æ‰€æœ‰é¡µé¢å‡ä½¿ç”¨ä¸­æ–‡æ ‡é¢˜ï¼Œä¸å¯¼èˆªèœå•ä¸€è‡´

**éªŒè¯ç»“æœ**ï¼š
- âœ… è¿è¡Œ `hexo clean && hexo generate` æˆåŠŸ
- âœ… ç”Ÿæˆ514ä¸ªæ–‡ä»¶ï¼Œæ— é”™è¯¯å’Œè­¦å‘Š
- âœ… æ‰€æœ‰é¡µé¢è®¿é—®è·¯å¾„æ­£ç¡®

---

### ä»»åŠ¡ 3ï¼šè¿ç§»è‰ç¨¿æ–‡ç«  (Migrate draft posts) - âœ… å·²å®Œæˆ â­

**ç›®æ ‡**ï¼šå°† `source/_drafts/` ä¸‹çš„æ–‡ç« è¿ç§»åˆ° `source/_posts/`ï¼Œå¹¶è½¬æ¢ meta.json ä¸ºæ ‡å‡† Hexo front matter

**åˆ›å»ºçš„æ–‡ä»¶**ï¼š

1. **`scripts/migrate-drafts.js`** - è¿ç§»è„šæœ¬
   - è¯»å– `_drafts/posts/_meta.json` å’Œ `_drafts/notes/_meta.json`
   - ä¸ºæ¯ç¯‡æ–‡ç« ç”Ÿæˆæ ‡å‡† Hexo front matter
   - è‡ªåŠ¨æå–æ‘˜è¦ï¼ˆå¦‚æœåŸå§‹ summary ä¸º nullï¼‰
   - ä¿æŒä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾ä¸å˜

2. **æ›´æ–° `package.json`** - æ·»åŠ è¿ç§»å‘½ä»¤
   ```json
   "scripts": {
     "migrate": "node scripts/migrate-drafts.js"
   }
   ```

**Front Matter è½¬æ¢è§„åˆ™**ï¼š
- `created` â†’ `date`ï¼ˆæ ¼å¼ï¼š`YYYY-MM-DD HH:mm:ss`ï¼‰
- `modified` â†’ `updated`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
- **notes ç›®å½•çš„æ–‡ç« **ï¼šå¼ºåˆ¶ `categories: [éšç¬”]`
- **posts ç›®å½•çš„æ–‡ç« **ï¼šä½¿ç”¨ `meta.category.name` ä½œä¸ºåˆ†ç±»
- `tags` ä¿æŒä¸å˜
- `summary` ä¸º null æ—¶ï¼Œä»æ–‡ç« æ­£æ–‡æå–å‰ 200 å­—ç¬¦ä½œä¸ºæ‘˜è¦

**è¿ç§»æ‰§è¡Œç»“æœ**ï¼š
```
==================================================
Migration complete!
âœ“ Success: 178
âœ— Errors: 0
==================================================
```

**è¿ç§»è¯¦æƒ…**ï¼š
- âœ… è¿ç§» 163 ç¯‡åšå®¢æ–‡ç« åˆ° `source/_posts/`
- âœ… è¿ç§» 15 ç¯‡éšç¬”æ–‡ç« åˆ° `source/_posts/notes/`
- âœ… æ‰€æœ‰æ–‡ç« çš„ front matter æ ¼å¼æ­£ç¡®
- âœ… åˆ†ç±»å’Œæ ‡ç­¾ä¿¡æ¯ä¿ç•™å®Œæ•´
- âœ… ä¸ƒç‰›äº‘å›¾ç‰‡é“¾æ¥ä¿æŒä¸å˜
- âœ… åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´æ­£ç¡®è½¬æ¢

**éªŒè¯ç»“æœ**ï¼š
- âœ… æ‰€æœ‰æ–‡ç« æˆåŠŸè¿ç§»ï¼Œæ— é”™è¯¯
- âœ… Front matter æ ¼å¼ç¬¦åˆ Hexo è§„èŒƒ
- âœ… åˆ†ç±»/æ ‡ç­¾/æ‘˜è¦ä¿¡æ¯æ­£ç¡®
- âœ… è¿è¡Œ `hexo generate` æˆåŠŸç”Ÿæˆæ‰€æœ‰é¡µé¢

---

### ä»»åŠ¡ 4ï¼šé…ç½® GitHub Actions è‡ªåŠ¨éƒ¨ç½² (Setup CI deployment) - âœ… å·²å®Œæˆ

**ç›®æ ‡**ï¼šå®ç°æ¨é€åˆ° `main` åˆ†æ”¯è‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²åˆ° `gh-pages` åˆ†æ”¯

**åˆ›å»ºçš„æ–‡ä»¶**ï¼š

**`.github/workflows/deploy.yml`** - GitHub Actions å·¥ä½œæµé…ç½®
```yaml
name: Deploy Hexo to GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout
      uses: actions/checkout@v3
      with:
        submodules: true
        
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        
    - name: Install Dependencies
      run: npm ci
      
    - name: Clean
      run: npm run clean
      
    - name: Build
      run: npm run build
      
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./public
        publish_branch: gh-pages
```

**é…ç½®ç‰¹ç‚¹**ï¼š
- ä½¿ç”¨ Node.js 18 ç¯å¢ƒ
- ä½¿ç”¨ `npm ci` è¿›è¡Œä¾èµ–å®‰è£…ï¼ˆæ¯” `npm install` æ›´å¿«æ›´å¯é ï¼‰
- è‡ªåŠ¨æ‰§è¡Œ clean å’Œ build
- ä½¿ç”¨ `peaceiris/actions-gh-pages@v3` è¿›è¡Œéƒ¨ç½²
- è‡ªåŠ¨æ¨é€åˆ° `gh-pages` åˆ†æ”¯

**Package.json è„šæœ¬éªŒè¯**ï¼š
```json
{
  "scripts": {
    "build": "hexo generate",  âœ…
    "clean": "hexo clean",     âœ…
    "deploy": "hexo deploy",   âœ…
    "server": "hexo server",   âœ…
    "migrate": "node scripts/migrate-drafts.js"  âœ…
  }
}
```

**éªŒè¯ç»“æœ**ï¼š
- âœ… å·¥ä½œæµæ–‡ä»¶åˆ›å»ºå®Œæˆ
- âœ… Package.json è„šæœ¬å®Œæ•´
- âœ… æœ¬åœ°æ„å»ºæµ‹è¯•é€šè¿‡
- â³ æ¨é€åˆ° main åˆ†æ”¯åå°†è‡ªåŠ¨è§¦å‘éƒ¨ç½²

---

## ğŸ“Š å…¨å±€éªŒæ”¶æ ‡å‡†

### å…¨éƒ¨å®Œæˆ âœ…

- âœ… å¯¼èˆªèœå•æ­£ç¡®æ˜¾ç¤ºï¼ˆé¦–é¡µ|åšå®¢|éšç¬”|é¡¹ç›®|å…³äº|å‹é“¾ï¼‰
- âœ… åšå®¢æœ‰æ­£ç¡®çš„äºŒçº§èœå•ï¼ˆå…¨éƒ¨æ–‡ç« |åˆ†ç±»|æ ‡ç­¾|å½’æ¡£ï¼‰
- âœ… æ‰€æœ‰é¡µé¢æ–‡ä»¶åˆ›å»ºå®Œæˆä¸”å¯è®¿é—®
- âœ… æ–‡ç« æˆåŠŸä» `_drafts` è¿ç§»åˆ° `_posts`ï¼ˆ178ç¯‡ï¼‰
- âœ… æ‰€æœ‰æ–‡ç« æœ‰æ­£ç¡®çš„ front matter å’Œåˆ†ç±»
- âœ… GitHub Actions é…ç½®å®Œæˆ
- âœ… æœ¬åœ°è¿è¡Œ `hexo clean && hexo generate` æ­£å¸¸ï¼ˆ514æ–‡ä»¶ç”Ÿæˆï¼‰
- â³ æ¨é€åˆ° main åˆ†æ”¯å°†è§¦å‘è‡ªåŠ¨éƒ¨ç½²

---

## ğŸ¯ æŠ€æœ¯ç»†èŠ‚

### æ–‡ä»¶ç»“æ„
```
moye12325.github.io/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml          # GitHub Actions å·¥ä½œæµ
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ migrate-drafts.js       # æ–‡ç« è¿ç§»è„šæœ¬
â”œâ”€â”€ source/
â”‚   â”œâ”€â”€ _posts/                 # åšå®¢æ–‡ç« ï¼ˆ163ç¯‡ï¼‰
â”‚   â”‚   â””â”€â”€ notes/              # éšç¬”æ–‡ç« ï¼ˆ15ç¯‡ï¼‰
â”‚   â”œâ”€â”€ about/                  # å…³äºé¡µé¢
â”‚   â”œâ”€â”€ projects/               # é¡¹ç›®é¡µé¢
â”‚   â”œâ”€â”€ links/                  # å‹é“¾é¡µé¢
â”‚   â”œâ”€â”€ categories/             # åˆ†ç±»é¡µé¢
â”‚   â”œâ”€â”€ tags/                   # æ ‡ç­¾é¡µé¢
â”‚   â””â”€â”€ archives/               # å½’æ¡£é¡µé¢
â”œâ”€â”€ _config.yml                 # Hexo ä¸»é…ç½®
â”œâ”€â”€ _config.redefine.yml        # Redefine ä¸»é¢˜é…ç½®
â””â”€â”€ package.json                # Node.js ä¾èµ–å’Œè„šæœ¬
```

### è¿ç§»ç»Ÿè®¡

**è¿ç§»å‰**ï¼š
- `source/_drafts/posts/`: 163ä¸ª Markdown æ–‡ä»¶ + 1ä¸ª _meta.json
- `source/_drafts/notes/`: 15ä¸ª Markdown æ–‡ä»¶ + 1ä¸ª _meta.json

**è¿ç§»å**ï¼š
- `source/_posts/`: 163ç¯‡åšå®¢æ–‡ç« ï¼ˆåŒ…å«å®Œæ•´ front matterï¼‰
- `source/_posts/notes/`: 15ç¯‡éšç¬”æ–‡ç« ï¼ˆcategory ä¸º"éšç¬”"ï¼‰

**æ–‡ç« åˆ†ç±»ç»Ÿè®¡**ï¼ˆä¸»è¦åˆ†ç±»ï¼‰ï¼š
- Java: å¤šç¯‡
- æ•°æ®ç»“æ„: å¤šç¯‡
- DL-ææ²: å¤šç¯‡
- DLæå®æ¯…: å¤šç¯‡
- äººå·¥æ™ºèƒ½: å¤šç¯‡
- è½¯ä»¶æµ‹è¯•: å¤šç¯‡
- é¡¹ç›®æµ‹è¯•: å¤šç¯‡
- é¡¹ç›®éƒ¨ç½²: å¤šç¯‡
- LeetCode: å¤šç¯‡
- ç¬”è¯•è®°å½•: å¤šç¯‡
- éšç¬”: 15ç¯‡

---

## ğŸ”§ ä½¿ç”¨æŒ‡å—

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# æ¸…ç†ç”Ÿæˆæ–‡ä»¶
npm run clean

# ç”Ÿæˆé™æ€æ–‡ä»¶
npm run build

# å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
npm run server

# è¿è¡Œè¿ç§»è„šæœ¬ï¼ˆå·²æ‰§è¡Œï¼Œæ— éœ€å†æ¬¡è¿è¡Œï¼‰
npm run migrate
```

### éƒ¨ç½²æµç¨‹

1. **è‡ªåŠ¨éƒ¨ç½²**ï¼ˆæ¨èï¼‰
   ```bash
   git add .
   git commit -m "your commit message"
   git push origin main
   ```
   æ¨é€åˆ° main åˆ†æ”¯åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯

2. **æ‰‹åŠ¨éƒ¨ç½²**
   ```bash
   npm run deploy
   ```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### å·²å¤„ç†çš„é—®é¢˜

1. âœ… **ä¸ƒç‰›äº‘å›¾ç‰‡å¤–é“¾ä¿æŒä¸å˜** - è¿ç§»è„šæœ¬ä¸ä¿®æ”¹å›¾ç‰‡é“¾æ¥
2. âœ… **åŸå§‹åˆ†ç±»å’Œæ ‡ç­¾ä¿¡æ¯ä¿ç•™** - ä» _meta.json æ­£ç¡®è½¬æ¢
3. âœ… **åˆ›å»ºæ—¶é—´ä¿ç•™** - ä½¿ç”¨ meta.created ä½œä¸º date
4. âœ… **æ›´æ–°æ—¶é—´ä¿ç•™** - ä½¿ç”¨ meta.modified ä½œä¸º updated
5. âœ… **è‡ªåŠ¨æå–æ‘˜è¦** - å½“ summary ä¸º null æ—¶è‡ªåŠ¨æå–

### ä¿ç•™çš„åŸå§‹æ–‡ä»¶

- `source/_drafts/` ç›®å½•ä»ç„¶ä¿ç•™åŸå§‹æ–‡ä»¶
- å»ºè®®åœ¨éªŒè¯è¿ç§»æˆåŠŸåå†å†³å®šæ˜¯å¦åˆ é™¤

### GitHub Actions æƒé™

- GitHub Actions ä½¿ç”¨ `GITHUB_TOKEN` è‡ªåŠ¨éƒ¨ç½²
- éœ€è¦ç¡®ä¿ä»“åº“è®¾ç½®ä¸­ Actions æœ‰å†™æƒé™
- Settings â†’ Actions â†’ General â†’ Workflow permissions â†’ Read and write permissions

---

## ğŸ“ åç»­å»ºè®®

1. **éªŒè¯éƒ¨ç½²**
   - æ¨é€ä»£ç åˆ° main åˆ†æ”¯
   - æŸ¥çœ‹ Actions æ‰§è¡Œæƒ…å†µ
   - è®¿é—® `https://moye12325.github.io` ç¡®è®¤æ›´æ–°

2. **æ¸…ç†åŸå§‹æ–‡ä»¶**ï¼ˆå¯é€‰ï¼‰
   - éªŒè¯è¿ç§»æˆåŠŸåï¼Œå¯ä»¥åˆ é™¤ `source/_drafts/` ç›®å½•
   - æˆ–è€…å°†å…¶ç§»åŠ¨åˆ°é¡¹ç›®å¤–ä½œä¸ºå¤‡ä»½

3. **æ–‡æ¡£å®Œå–„**
   - å¯ä»¥åœ¨ README.md ä¸­æ·»åŠ åšå®¢è¯´æ˜
   - å¯ä»¥æ›´æ–°å…³äºé¡µé¢å†…å®¹

4. **ä¸»é¢˜é…ç½®ä¼˜åŒ–**
   - å¯ä»¥è¿›ä¸€æ­¥è‡ªå®šä¹‰ `_config.redefine.yml`
   - é…ç½®è¯„è®ºç³»ç»Ÿã€ç½‘ç«™ç»Ÿè®¡ç­‰åŠŸèƒ½

---

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡é…ç½®ä»»åŠ¡å·²å…¨éƒ¨å®Œæˆï¼ŒåŒ…æ‹¬ï¼š

1. âœ… å¯¼èˆªèœå•é…ç½®ï¼ˆå¸¦äºŒçº§ä¸‹æ‹‰èœå•ï¼‰
2. âœ… æ‰€æœ‰å¿…éœ€é¡µé¢éªŒè¯
3. âœ… 178ç¯‡æ–‡ç« æˆåŠŸè¿ç§»ï¼ˆ163ç¯‡åšå®¢ + 15ç¯‡éšç¬”ï¼‰
4. âœ… GitHub Actions è‡ªåŠ¨éƒ¨ç½²é…ç½®

åšå®¢ç°åœ¨å·²ç»å®Œå…¨å¯ç”¨ï¼Œæ¨é€åˆ° main åˆ†æ”¯åå°†è‡ªåŠ¨éƒ¨ç½²åˆ° GitHub Pagesï¼

---

**é…ç½®å®Œæˆæ—¶é—´**ï¼š2024-11-03  
**Hexo ç‰ˆæœ¬**ï¼š8.1.0  
**ä¸»é¢˜ç‰ˆæœ¬**ï¼šhexo-theme-redefine v2.8.5  
**Node.js ç‰ˆæœ¬è¦æ±‚**ï¼š18+
